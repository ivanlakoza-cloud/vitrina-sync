# Domus — «Амазон на минималках» (Supabase + Next.js)

Страницы:
- `/` — главная: фильтр по **city** + плитка 6 в ряд
- `/o/[external_id]` — карточка: фотолента (только из бакета) + параметры

## Настройка
1) Данные в таблице `public.domus_export` (поле `city` заполняется в экспорте).
2) В Supabase Storage создайте публичный бакет `photos` и раскладывайте фото так: `photos/<external_id>/<filename>.jpg`.
3) Переменные окружения:
```
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
NEXT_PUBLIC_DOMUS_TABLE=domus_export
NEXT_PUBLIC_PHOTOS_BUCKET=photos
```
4) Локально: `npm i && npm run dev`. На Vercel — импорт репо и задать переменные окружения.

## Логика
- Фильтр городов берётся **строго** из колонки `city`.
- Обложка: первое изображение из бакета; если нет — **заглушка**.
- Галерея: только из бакета; если папка пуста — лента не показывается.
- Цены: отображаются только заполненные поля `ot_20/50/100/400/700/1500`.
